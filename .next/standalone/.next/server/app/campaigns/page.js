(()=>{var e={};e.id=905,e.ids=[905],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},730:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(482),r=s(9108),l=s(2563),n=s.n(l),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["campaigns",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7526)),"C:\\Users\\benja\\Desktop\\LeadPilot SaaS\\LeadPilot\\app\\campaigns\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\benja\\Desktop\\LeadPilot SaaS\\LeadPilot\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\benja\\Desktop\\LeadPilot SaaS\\LeadPilot\\app\\campaigns\\page.tsx"],m="/campaigns/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/campaigns/page",pathname:"/campaigns",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3068:(e,t,s)=>{Promise.resolve().then(s.bind(s,4016))},1676:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},9130:(e,t,s)=>{Promise.resolve().then(s.bind(s,4755))},4016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(2295),r=s(3729),l=s(3759),n=s(5965),i=s(4596),o=s(1725),d=s(7602),c=s(4755);function m(){let[e,t]=(0,r.useState)([]),[s,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[p,b]=(0,r.useState)(!0),[f,y]=(0,r.useState)(""),[j,v]=(0,r.useState)({name:"",emailId:"",leadFilter:"all"});(0,r.useEffect)(()=>{(async()=>{try{console.log("\uD83D\uDD0D R\xe9cup\xe9ration des leads...");let e=await fetch("/api/leads");if(console.log("\uD83D\uDCE1 R\xe9ponse API:",e.status,e.statusText),e.ok){let t=await e.json();console.log("\uD83D\uDCCA Donn\xe9es re\xe7ues:",t);let s=t.leads||[];console.log("\uD83D\uDC65 Leads utilisateur:",s);let a=s.map(e=>({id:e.id,name:`${e.firstName} ${e.lastName}`,company:e.company,title:e.position,email:e.email,aiScore:e.aiScore||0,createdAt:e.createdAt,selected:!1}));console.log("✅ Leads format\xe9s:",a),h(a)}else{let t=await e.text();console.error("❌ Erreur API:",e.status,t),c.toast.error(`Erreur ${e.status}: ${e.statusText}`)}}catch(e){console.error("\uD83D\uDCA5 Erreur lors de la r\xe9cup\xe9ration des leads:",e),c.toast.error("Erreur lors du chargement des leads")}finally{b(!1)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{x([])}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des emails:",e),c.toast.error("Erreur lors du chargement des emails")}})()},[]);let w=g.filter(e=>e.selected).length,N=g.filter(e=>e.aiScore>80);u.filter(e=>e.name.toLowerCase().includes(f.toLowerCase())||e.subject.toLowerCase().includes(f.toLowerCase()));let C=e=>{h(g.map(t=>t.id===e?{...t,selected:!t.selected}:t))};return p?a.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-400",children:"Chargement..."})})})}):a.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Campagnes Email"}),a.jsx("p",{className:"text-gray-400",children:"Cr\xe9ez et g\xe9rez vos campagnes d'emailing"})]}),a.jsx("div",{className:"flex justify-end mb-6",children:(0,a.jsxs)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors flex items-center space-x-2",children:[a.jsx(l.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Nouvelle Campagne"})]})}),s&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Cr\xe9er une Campagne"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nom de la campagne"}),a.jsx("input",{type:"text",value:j.name,onChange:e=>v({...j,name:e.target.value}),placeholder:"Ex: Prospection Q1 2024",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative mb-3",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"text",value:f,onChange:e=>y(e.target.value),placeholder:"Rechercher un email...",className:"w-full pl-10 pr-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"px-3 py-4 bg-gray-700 border border-gray-600 rounded-md text-gray-400 text-center",children:'Aucun email disponible. Cr\xe9ez d\'abord des emails dans "Mes Emails".'})]}),g.length>0&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"S\xe9lection des leads cibles"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsxs)("button",{onClick:()=>{h(g.map(e=>({...e,selected:!0}))),v({...j,leadFilter:"all"})},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"all"===j.leadFilter?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(i.Z,{className:"w-4 h-4 inline mr-1"}),"Tous les leads (",g.length,")"]}),N.length>0&&(0,a.jsxs)("button",{onClick:()=>{h(g.map(e=>({...e,selected:e.aiScore>80}))),v({...j,leadFilter:"high-score"})},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"high-score"===j.leadFilter?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(o.Z,{className:"w-4 h-4 inline mr-1"}),"Score > 80% (",N.length,")"]}),(0,a.jsxs)("button",{onClick:()=>{h(g.map(e=>({...e,selected:!1}))),v({...j,leadFilter:"none"})},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${"none"===j.leadFilter?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.jsx(d.Z,{className:"w-4 h-4 inline mr-1"}),"D\xe9s\xe9lectionner tout"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-400 ml-auto",children:[w," s\xe9lectionn\xe9",w>1?"s":""]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Vos leads disponibles"}),a.jsx("div",{className:"space-y-2",children:g.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-md",children:[a.jsx("input",{type:"checkbox",checked:e.selected,onChange:()=>C(e.id),className:"w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-white",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[e.company," • ",e.title]}),a.jsx("div",{className:"text-sm text-gray-400",children:e.email})]}),a.jsx("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-full",children:[e.aiScore,"%"]})})]},e.id))})]})]}),0===g.length&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400 mb-4",children:'Aucun lead disponible. G\xe9n\xe9rez d\'abord des leads dans la section "Leads".'})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 transition-colors",children:"Annuler"}),a.jsx("button",{onClick:()=>{if(!j.name.trim()){c.toast.error("Veuillez saisir un nom de campagne");return}if(!j.emailId){c.toast.error("Veuillez s\xe9lectionner un email");return}let s=g.filter(e=>e.selected);if(0===s.length){c.toast.error("Veuillez s\xe9lectionner au moins un lead");return}t([...e,{id:Date.now().toString(),name:j.name,emailId:j.emailId,leads:s.map(e=>e.id),status:"draft",createdAt:new Date().toISOString()}]),m(!1),v({name:"",emailId:"",leadFilter:"all"}),h(g.map(e=>({...e,selected:!1}))),c.toast.success("Campagne cr\xe9\xe9e avec succ\xe8s !")},disabled:0===u.length||0===g.length,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Cr\xe9er la campagne"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Campagnes R\xe9centes"}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-400 mb-4",children:"Aucune campagne cr\xe9\xe9e pour le moment."}),(0,a.jsxs)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors flex items-center space-x-2 mx-auto",children:[a.jsx(l.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Cr\xe9er votre premi\xe8re campagne"})]})]}):a.jsx("div",{className:"grid gap-4",children:e.map(e=>a.jsx("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.leads.length," lead",e.leads.length>1?"s":""," • Cr\xe9\xe9e le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"draft"===e.status?"bg-yellow-600 text-yellow-100":"scheduled"===e.status?"bg-blue-600 text-blue-100":"bg-green-600 text-green-100"}`,children:"draft"===e.status?"Brouillon":"scheduled"===e.status?"Programm\xe9e":"Envoy\xe9e"})]})},e.id))})]})]})})}},2295:(e,t,s)=>{"use strict";e.exports=s(6372).vendored["react-ssr"].ReactJsxRuntime},7526:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`C:\Users\benja\Desktop\LeadPilot SaaS\LeadPilot\app\campaigns\page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var a=s(5036),r=s(265),l=s.n(r);s(7272);var n=s(7171);let i={title:"LeadPilot - Plateforme de G\xe9n\xe9ration de Leads B2B",description:"G\xe9n\xe9rez, qualifiez et g\xe9rez vos leads B2B avec l'IA et l'automatisation des s\xe9quences d'emails."};function o({children:e}){return a.jsx("html",{lang:"fr",children:(0,a.jsxs)("body",{className:l().className,children:[a.jsx("div",{className:"min-h-screen bg-gray-50",children:e}),a.jsx(n.x7,{position:"top-right",richColors:!0,closeButton:!0})]})})}},7272:()=>{},4596:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3729);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},5965:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3729);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},3759:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3729);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},1725:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3729);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},7602:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3729);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,634],()=>s(730));module.exports=a})();